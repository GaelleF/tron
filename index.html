<!DOCTYPE html><html><head>
  <title>Tron</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAx42QAFP/FABXQkMAQC0uAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAQBEREREREREAFEREREREQQAURERERERBABREREREREEAFEREREREQQAURERERERBABQERAAEREEAFCBEIiREQQAUQgRERERBABRAJEREREEAFAJEREREQQAUJERERERBABRERERERDEAEREREREREQQAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
  <style></style>
  </head><body></body>
  <script type="text/javascript">"use strict";function $s_(r,t,n,e){var o=this;Object.defineProperty($_,""+r,{get:function(){return e||(e=$_(t).then(function(r){return n.apply(o,r)}))}})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$_=function(r){return function(t){return Promise.all(t.map(r))}}(function(r){return $_[r]});$s_(0,[1,2,3,4,5,6,7,8],function(r,t,n,e,o,u,i,c){var a={exports:{}},s=r,f=t,l=n,p=e,d=o,h=Math.random,y=u,x=i.shuffle,v=c.SIZE,m=c.DIR,g=Math.PI/4,b=function(r){return function(t){return t.slice(0).sort(r)}},w=function(){};b.byScore=b(function(r,t){return r.score-t.score});var k=function(r){for(var t=arguments.length,n=Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];try{return r.apply(void 0,n)}catch(r){return r}},j=function(r,t){for(var n=-1,e=void 0;++n<v;)for(e=-1;++e<v;)t=r(n,e,t);return t},_=Math.random;Math.random=y.float;var A=Object.freeze({color:"black",name:"empty"}),O=function(r){return r>=v||r<0},S=function(r){return r<v&&r>=0},$=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return j(function(t,n,e){return(e[t]||(e[t]=Array(v)))[n]=r(t,n),e},Array(v))},M=s.players,E=Object.create(null),C=function(r,t){return Math.abs(r-t)},F=function(r,t){return C(r.x,t.x)+C(r.y,t.y)},I=function(r){return r.name},P=function(){return M.map(I)},R=function(){return M.map(function(r){return{name:r.name,dead:r.dead,score:r.score,x:r.x,y:r.y}})},N=function(r,t){var n=f.script("window."+r+"Ai = (SIZE => {\n    try { return (() => {\n"+t+"\n})() }\n    catch (err) { console.error('Error loading', name, err); return () => {} }\n  })("+v+")");document.body.appendChild(n)},L=s.refetch?"?"+_():"",q="thot.space"===window.location.host?function(r){return"https://thot.space/"+r+"/tron/raw/master/ai.js"+L}:function(r){return r+"-ai.js"+L},T=function(r){console.log("fetching: ",r);var t=r;if(E[r]){var n=new RegExp("^"+r+"(d+)?"),e=P().filter(function(r){return n.test(r)}).length;t=""+r+(e>0?e+1:"")}var o=E[t]={name:t,color:"purple",dead:!1,score:0,load:fetch(q(r)).then(function(r){return 200===r.status?r.text():Promise.reject(Error("Error: "+r.status+" - "+r.statusText))}).then(function(t){N(r,t);var n=window[r+"Ai"];if("function"!=typeof n)throw Error("ai.js should return a function");try{o.ai=function(r){return n({getPos:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.x,n=void 0===t?0:t,e=r.y,u=void 0===e?0:e;return{x:o.x+n,y:o.y+u}},isFree:function(t){var n=t.x,e=t.y;return S(n)&&S(e)&&r[n][e]===A},getDist:F,reduceMap:j,players:R(),reduceMapCheck:function(t){return j(function(n,e,o){return t(n,e,r[n][e]===A,o)})}})}}catch(r){return r}}).catch(function(r){console.error("Unable to load player AI",r.stack),o.ai=function(){return{}}})};M.push(o)},Z=function(r){console.log(r.name+" died because he "+r.cause+" at "+r.x+" "+r.y),r.dead=!0,l.setScore(M)},K=function(){l.end(),console.log("game over",b.byScore(M))},z=function(r){return!r.dead};window.players=M;var D=function(r,t){return{x:r.x+t.x,y:r.y+t.y}},U=function(r,t){return Math.atan2(t.y-r.y,t.x-r.x)},B=0,H=0,W=function(){cancelAnimationFrame(B),clearTimeout(H)},G=function r(){var t=Object.create(null),n=s.map[s.map.length-1];y.seed();M.filter(z).map(function(r){var t=k(r.ai,n);if(t instanceof Error)return{error:t,player:r};var e=t&&"object"===(void 0===t?"undefined":_typeof(t))?t:D(r,m[t]||{x:0,y:0});e||console.log(r.name,"returned an invalid direction",t);var o=e||{},u=o.x,i=void 0===u?0:u,c=o.y,a=void 0===c?0:c,s={x:i,y:a};if(r.px===s.x&&r.py===a)r.positionList=[];else if(r.px=i,r.py=a,F(s,r)>1){var f=U(r,s);console.log({angle:f,x1:r.x,y1:r.y,x2:s.x,y2:s.y}),s=f>g&&f<=3*g?D(r,m.down):f>3*g&&f<=5*g?D(r,m.left):f>5*g&&f<=7*g?D(r,m.up):D(r,m.right)}return s.player=r,s}).filter(function(r,e,o){var u=r.player,i=r.x,c=r.y,a=r.error;return a?(console.error(a),u.cause="AI error: "+a.message):o.some(function(r){return r.player!==u&&r.x===i&&r.y===c})?u.cause="moved to the same position of another player":O(i)||O(c)?u.cause="went out of bounds":n[i][c]!==A?u.cause="crashed on"+n[i][c].name:(u.x=i,u.y=c,u.score++,(t[i]||(t[i]=Object.create(null)))[c]=u,!1)}).forEach(function(r){var t=r.player;return Z(t)});var e=$(function(r,e){return void 0!==(t[r]&&t[r][e])?t[r][e]:n[r][e]});s.map.push(e),l.update(M),Object.keys(t).length&&!s.paused()?(clearTimeout(H),H=setTimeout(function(){cancelAnimationFrame(B),B=requestAnimationFrame(r)},10*(32/s.speedFactor()-1))):K()};s.paused(function(r){return r?W():G()}),window.onkeydown=p({space:function(){return s.paused.set(!s.paused())},s:function(){s.seed.set(h()),s.shouldReload.set(!0)},r:function(r){return!r.metaKey&&!r.ctrlKey&&s.shouldReload.set(!0)},right:{shift:function(){return Array(10).fill().forEach(G)},none:G},up:s.incSpeed,down:s.decSpeed}),window.update=G;var J=function(){return A},Q=function(r){return function(t){return t>r?V(t-r):t}},V=Q(1),X=Q(2*Math.PI),Y=function(r){var t=2*Math.PI/M.length,n=100/M.length/100,e=t*Math.random();M.forEach(function(r,o){r.color=d(V(o*n+.25),1,.4);var u=Math.round(X(Math.cos(t*o+e))*(v/2*.8)+v/2),i=Math.round(X(Math.sin(t*o+e))*(v/2*.8)+v/2);r.x=u,r.y=i})},rr=function(){x(M.sort(function(r,t){return r.name-t.name}));var r=$(J);s.map.length=0,s.map.push(r),Y(),l.init(r,$,M),G()};return s.shouldReload(function(r){console.log(">>> Reloading..."),W(),s.reset(),rr(),s.shouldReload.set(!1)}),s.users.forEach(T),function(){Promise.all(M.map(function(r){return r.load})).then(rr)}(),a.exports}),$s_(3,[1,8,2],function(r,t,n){var e={exports:{}},o=(e.exports,r),u=t.SIZE,i=t.CASE_SIZE,c=n,a=Object.create(null),s=c.canvas({width:""+u*i,height:""+u*i}),f=s.getContext("2d"),l=(c.style({height:i+"px",width:i+"px"}),function(r){r.drawCount++,f.fillStyle="#"+("00000"+r.color.toString(16)).slice(-6)+"04",f.fillRect(r.x*i,r.y*i,i,i)});Object.assign(document.body.style,{margin:0,background:"darkgrey"});var p=function(r,t){return"translate("+~~(r*i)+"px, "+~~(t*i)+"px)"},d=[],h=function(r){return(" #"+r).slice(-3)},y=function(r){return(r+"        ").slice(0,10)},x=function(r,t,n){return h(t.length-(n-(r+1)))},v=function(r){return r.drawCount<128},m=function(){d=d.filter(v),d.forEach(l)},g=c("button.ctrl-btn",{style:{border:"none",padding:"8px",width:"30px",height:"30px",outline:0,backgroundColor:"transparent",color:"white"}}),b=g({onclick:function(){return o.paused.set(!o.paused())},title:"space to pause"},o.paused()?"▷":"❘❘");o.paused(function(r){return b.textContent=r?"▷":"❘❘"});var w=g({onclick:function(){return o.shouldReload.set(!0)},title:"r to reload"},"↺"),k=c.span.style({border:"none",display:"inline-block",boxSizing:"border-box",whiteSpace:"nowrap",padding:"8px",width:"100px",height:"30px",outline:0,backgroundColor:"transparent",color:"white"},"speed x"+o.speedFactor());return o.speedFactor(function(r){return k.textContent="speed x"+o.speedFactor()}),e.exports={init:function(r,t,n){return f.fillStyle="black",f.fillRect(0,0,u*i,u*i),c.replaceContent(document.body,c.div.style({display:"flex",fontFamily:"monospace",flexWrap:"wrap",position:"relative",margin:"0 auto",width:i*u+"px"},n.map(function(r){var t=r.name,n=r.x,e=r.y,o=r.color;return a[t]=c.div.style({position:"absolute",left:0,top:0,transform:p(n,e),transition:"transform 0.1s",whiteSpace:"pre",color:"#"+("00000"+o.toString(16)).slice(-6),opacity:1,background:"rgba(0, 0, 0, 0.25)",textShadow:["-1px -1px black","-1px 1px black","1px -1px black","1px 1px black"].join(", m")},t)}).concat([s,c.div.style({position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.1)"},[k,b,w])]))),r},setScore:function(r){return r.filter(function(r){return r.dead}).sort(function(r,t){return t.score===r.score?r.name-t.name:t.score-r.score}).forEach(function(t,n,e){var o=t.name,u=(t.x,t.y,t.cause,t.score),i=e.length,c=a[o];c.textContent=x(n,r,i)+" - "+y(o)+" ("+u+")",c.style.transition="transform 0.5s ease-in, opacity 5s ease-out",c.style.transform=p(0,2*n)})},update:function(r){r.forEach(function(r){var t={x:r.x,y:r.y,drawCount:0,color:r.color};l(t),d.push(t),r.dead||(a[r.name].style.transform=p(r.x,r.y))}),m()},end:function(){return setInterval(m,16)}},e.exports}),$s_(5,[],function(){var r={exports:{}},t=(r.exports,function(r,t,n){return r<<16|t<<8|n}),n=function(r){return Math.round(255*r)},e=function(r,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+6*(t-r)*n:n<.5?t:n<2/3?r+(t-r)*(2/3-n)*6:r},o=function(r,o,u){if(!o)return t(n(u),n(u),n(u));var i=u<.5?u*(1+o):u+o-u*o,c=2*u-i,a=e(c,i,r+1/3),s=e(c,i,r),f=e(c,i,r-1/3);return console.log({r:a,g:s,b:f}),t(n(a),n(s),n(f))};return r.exports=o,r.exports}),$s_(6,[],function(){var r={exports:{}},t=(r.exports,Math.random()),n=2147483648,e=Math.floor(t*(n-1)),o=function(){return e=(1103515245*e+12345)%n},u=function(){return o()/(n-1)},i=function(r,t){return r+Math.floor(o()/n*t-r)};return r.exports=Object.assign(u,{seed:function(r){return r?e=r<1?Math.floor((r||t)*(n-1)):e=r:e},pick:function(r){return r[i(0,r.length)]},float:u,range:i,int:o}),r.exports}),$s_(7,[],function(){var r={exports:{}},t=(r.exports,function(r,t){void 0===t&&(t=r,r=0);for(var n=t-r,e=Array(n),o=-1;++o<=n;)e[o]=r++;return e});return t.from=function(r){return function(n){return t(r,n)}},r.exports={range:t,remove:function(r,t){if(r){var n=r.indexOf(t);n<0||r.splice(n,1)}},n:function(r){return function(t){return t[r]}},shuffle:function(r){for(var t=r.length,n=void 0,e=void 0;--t>0;)n=Math.floor(Math.random()*(t+1)),e=r[n],r[n]=r[t],r[t]=e;return r},first:function(r){return r[0]},append:function(r,t){return r?(r.push(t),r):[t]},prepend:function(r,t){return r?(r.unshift(t),r):[t]},last:function(r){return r[r.length-1]},unique:function(r){return Array.from(new Set(r))},random:function(r){return r[Math.floor(Math.random()*r.length)]},inRange:function(r,t){return Math.min(Math.max(t,0),r.length-1)}},Object.getOwnPropertyNames(Array.prototype).filter(function(r){return"function"==typeof Array.prototype[r]}).forEach(function(t){var n=Array.prototype[t];r.exports[t]=function(){var r=arguments;return function(t){return n.apply(t,r)}}}),r.exports}),$s_(8,[],function(){var r={exports:{}};r.exports;return r.exports={CASE_SIZE:8,SIZE:100,DIR:{up:{x:0,y:-1},down:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}}},r.exports}),$s_(1,[6,9,10,11],function(r,t,n,e){var o={exports:{}},u=(o.exports,t),i=n,c=r,a=e,s=["abarnat","abousque","adarinot","araveend","bro","cdenis","fbertoia","fsauvage","kbennani","knguyen","ljahier","mallano","mestevez","mgregoir","overetou","rchoquer","rfautier","rpaegelo","sdutertr","smj","tgelu","vbillard","xpetit","ycribier","ygromith","zabdalla"],f=u(c.seed());f.set=function(r){return function(t){return r(c.seed(Number(t)))}}(f.set);var l={speedFactor:32,users:[],seed:f()},p=function(r){return i(function(t,n){return(r[n]||noOp)(t)||l[n]},a.get())}({users:function(r){return(r||"").split(",")},seed:f.set,refetch:function(r){return"true"===r}});p.users||(p.users=s);var d=[],h=[],y=u.check(l.speedFactor),x=[.25,32],v=function(){return y.set(Math.max(y()/2,x[0]))},m=function(){return y.set(Math.min(2*y(),x[1]))},g=f(),b=function(){var r=f();r!==g?(a.set({seed:r,users:p.users.sort()}),g=r):c.seed(g),window.location.reload(),d.forEach(function(r){r.dead=!1,r.score=0}),h.length=0};return a.set({seed:g,users:p.users.sort()}),o.exports={refetch:Boolean(p.refetch),players:d,seed:f,users:p.users,map:h,paused:u.check(!0),speedFactor:y,incSpeed:m,decSpeed:v,shouldReload:u.check(!1),reset:b},o.exports}),$s_(2,[12,13],function(r,t){var n={exports:{}},e=(n.exports,r),o=t;return e.forEach(function(r){return void 0===o[r]&&(o[r]=o(r))}),n.exports=o,n.exports}),$s_(4,[14],function(r){var t={exports:{}},n=(t.exports,r.isFn),e={8:"backspace",9:"tab",13:"enter",32:"space",37:"left",38:"up",39:"right",40:"down",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o=Object.assign({},e,{48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'}),u=function(r,t){return(r.shiftKey?o:e)[t]||String.fromCharCode(t)},i=function r(t,n,e){return e?r(t,e,t.ctrlKey&&e.ctrl||t.shiftKey&&e.shift||t.metaKey&&e.meta||t.altKey&&e.alt||e.none):n},c=function(){};return t.exports=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return function(e){var o=r[e.key.toLowerCase()]||r[u(e,e.which)];return o?(o=i(e,o,o),n(o)?void(!1!==o(e)&&e.preventDefault()):t(e)):t(e)}},t.exports}),$s_(12,[],function(){var r={exports:{}};r.exports;return r.exports=Object.getOwnPropertyNames(window).filter(function(r){return/HTML[A-Z][a-z]+Element/.test(r)}).map(function(r){return r.slice(4,-7).toLowerCase()}).concat("a,abbr,address,article,aside,b,bdi,bdo,blockquote,br,caption,cite,code,col,colgroup,d,data,datalist,dd,del,dfn,dl,dt,element,em,fieldset,figcaption,figure,footer,g,h1,h2,h3,h4,h5,h6,header,hgroup,hr,i,img,ins,ist-style-typ,kbd,li,main,mark,menuitem,nav,noscript,ol,optgroup,p,path,q,rb,rect,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,summary,sup,svg,tbody,td,textarea,tfoot,th,thead,time,tr,u,ul,use,var,wbr".split(",")),r.exports}),$s_(14,[],function(){var r={exports:{}},t=(r.exports,function(r){return"function"==typeof r}),n=Array.isArray||function(r){return r&&r.constructor===Array},e=function(r){return void 0!==r},o=function(r){return"number"==typeof r&&!isNaN(r)},u=function(r){return!0===r||!1===r},i=function(r){return r&&"object"===(void 0===r?"undefined":_typeof(r))},c=function(r){return"string"==typeof r},a=function(r){return void 0===r},s=function(r){return r&&t(r.then)},f=function(r){return s(r)&&t(r.catch)},l=function(r){return r instanceof Element},p=function(r){return c(r)||n(r)||l(r)},d=function(r){return t(r)&&t(r.set)},h=function(r){return t(r.listen)&&t(r.broadcast)},y=function(r){switch(void 0===r?"undefined":_typeof(r)){case"string":case"number":case"boolean":return!0;default:return!1}},x="undefined"!=typeof window,v=function(r){return o(r)&&Math.floor(r)!==r},m=Number.isInteger||function(r){return o(r)&&Math.floor(r)===r},g={isFn:t,isArr:n,isDef:e,isInt:m,isStr:c,isObj:i,isNum:o,isBool:u,isNode:x,isUndef:a,isFloat:v,isEvent:h,isObserv:d,isPromise:f,isElement:l,isChildren:p,isPrimitive:y,isThenable:s};return Object.keys(g).forEach(function(r){return g[r.slice(2).toLowerCase()]=g[r]}),r.exports=g,r.exports}),$s_(9,[14,15,16,17],function(r,t,n,e){var o={exports:{}},u=(o.exports,r.isFn,r.isArr),i=r.isPrimitive,c=r.isObj,a=t,s=n,f=e,l=void 0,p=void 0;if("undefined"==typeof Symbol)p=function(r){return r&&r.hasOwnProperty("__$$_observ_symbol_$$__")},l=function(r){return Object.defineProperty(r,"__$$_observ_symbol_$$__",{enumerable:!1}),r};else{var d=Symbol("Observ");p=function(r){return r&&r[d]},l=function(r){return r[d]=!0,r}}var h=function(r){var t=[],n=function(n){return a(t,n,r)},e=s(function(t){return t(r)});return n.set=function(n){r=n,e(t)},l(n)},y=function(r){var t=void 0,n=[],e=function(t){return a(n,t,r)},o=s(function(n){return n(r,t)});return e.set=function(e){t=r,r=e,o(n)},l(e)},x=function(r,t){return r!==t},v=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=[],e=function(t){return a(n,t,r)},o=s(function(t){return t(r)});return e.set=function(e){t(e,r)&&(r=e,o(n))},e.setCheck=function(r){return t=r},l(e)},m=function(){var r=[],t=function(t){return a(r,t)};return t.set=function(n){if(!r)return console.warn("trigger a once multiple times");s(function(r){return r(n)},r),r=t.set=null},l(t)},g=["includes","indexOf","lastIndexOf","toLocaleString","toSource","toString"],b=["concat","filter","join","map","reduce","slice"],w=["pop","push","reverse","shift","sort","splice","unshift"],k=function(r){if(!u(r))throw Error("First argument must be an array");var t=h(r);return s(function(n){var e=Array.prototype[n];t[n]=function(){return e.apply(r,arguments)}},g),s(function(n){var e=Array.prototype[n];t[n]=function(){return t.set(r=e.apply(r,arguments))}},b),s(function(n){var e=Array.prototype[n];t[n]=function(){return e.apply(r,arguments),t.set(r)}},w),t.change=function(n){return t.set(r=n(r))},t},j=function r(t){if(!t||i(t))return h(t);if(p(t))return t;if(u(t))return k(t);if(c(t)){var n=[],e=Object.keys(t),o=Array(e.length),a=Object.create(null),f=s(function(r){return r(t)}),d=!0,y=function(){if(d){var r=-1;for(d=void 0,t=Object.create(null);++r<e.length;)t[e[r]]=o[r]}return t},x=function(r){switch(void 0===r?"undefined":_typeof(r)){case"string":return a[r];case"function":return n.push(r),function(){return n&&remove(n,r)};default:return y()}},v=function(){y(),f(n)};return s(function(n,e){var u=x[n]=a[n]=r(t[n]);u(function(r){o[e]=r,d||(d=setTimeout(v,1))}),o[e]=u()},e),x.set=s(function(r,t){return a[t].set(r)}),l(x)}return h(t)};return h.immediate=function(r,t){return t(r()),r(t)},h.check=v,h.once=m,h.from=j,h.isObserv=p,h.arr=k,h.diff=y,h.map=f(function(r,t){var n=h(r(t()));return t(function(t){return n.set(r(t))}),n}),h.set=f(function(r,t){var n=t.set;return t.set=function(t){return n(r(t))},t}),h.if=f(function(r,t){var n=t.set;return t.set=function(t){return r(t)&&n(t)},t}),o.exports=h,o.exports}),$s_(10,[18,19],function(r,t){var n={exports:{}},e=(n.exports,r),o=t,u=e.magic("result");return u.toArr=e.currify(o("obj",{result:"Array(max)",pre:"result[i] = "})),n.exports=u,n.exports}),$s_(11,[20],function(r){var t={exports:{}},n=(t.exports,r),e=void 0,o=function(r){e=!0,window.location.hash="?"+Object.keys(r).sort().map(function(t){return t+"="+r[t]}).join("&")};return window.addEventListener("hashchange",function(){return e?e=!1:window.location.reload(1)}),t.exports={get:n,set:o},t.exports}),$s_(13,[14,16,17,21],function(r,t,n,e){var o={exports:{}},u=(o.exports,t),i=n,c=r.isStr,a=r.isChildren,s=r.isDef,f=e,l=function r(t,n){if(void 0!==n)return n instanceof Element?t.appendChild(n):Array.isArray(n)?n.forEach(function(n){return r(t,n)}):t.appendChild(document.createTextNode(String(n)))},p=function r(t,n){if(!n)return t;for(var e=Object.keys(n),o=-1;++o<e.length;)t[e[o]]&&"object"===_typeof(t[e[o]])?r(t[e[o]],n[e[o]]):t[e[o]]=n[e[o]];return t},d=function(r,t,n){return r.setAttribute(n,t)},h=function(r,t,n){return r[n]=t},y=function(r,t,n){return Object.assign(r[n],t)},x=function(r,t){return r.classList.add.apply(r.classList,t.split(" "))},v=function(r){switch(r){case"class":case"className":return x;case"dataset":case"style":return y;default:return-1!==r.indexOf("-")?d:h}},m=function(r,t,n){a(t)&&(n=t,t=void 0);var e=document.createElement(r.tag);if(t||r.props){var o=u(function(r,t){return s(r)&&v(t)(e,r,t)});r.props&&o(r.props),t&&o(t)}return l(e,n),e},g=function(r,t){return c(r)?(t||(t={}),r=f(r,t).toLowerCase()):(t=r,r="div"),Object.keys(t).length||(t=void 0),{tag:r,props:t}},b=function(r,t){return c(r)?g(r,{style:t.style||t}):g("div",{style:r.style||r})},w=function(r,t){return k(p(r,r))},k=function(r){var t=function(t,n){return m(r,t,n)};return t.style=function(t,n){return m(r,{style:t},n)},t.extend=function(t,n){return w(r,Array.isArray(t)?t.reduce(p):g(t,n))},t.extend.style=function(t,n){return w(r,Array.isArray(t)?t.reduce(p):b(t,n))},t},j=function(r,t){return k(g(r,t))};j.style=function(r,t){return k(b(r,t))},j.appendChild=i(l);var _=j.empty=function(r){if(r)for(;r.lastChild&&r.lastChild!==r;)r.removeChild(r.lastChild)};return j.replaceContent=i(function(r,t){_(r),l(r,t)}),j.getHandler=v,o.exports=j,o.exports}),$s_(16,[18],function(r){var t={exports:{}},n=(t.exports,r);return t.exports=n.magic(),t.exports}),$s_(17,[],function(){var r={exports:{}},t=(r.exports,function(r,t){var n=r.length,e=n+t.length;if(n===e)return r;var o=Object.create(null);o.length=e;for(var u=-1;++u<n;)o[u]=r[u];for(;u<e;)o[u]=t[u-n],++u;return o});return r.exports=function(r,n){function e(o){return o.length<n?function(){return e(t(o,arguments))}:r.apply(null,o)}return n||(n=r.length),function(){return e(arguments)}},r.exports.mergeArgs=t,r.exports}),$s_(18,[14,19],function(r,t){var n={exports:{}},e=(n.exports,r.isInt),o=(r.isFn,r.isObj,r.isStr,t),u=function(r,t,n,o){return n?e(n.length)?r.arr(t,n,o):r.obj(t,n,o):n},i=function(r){return function(){var t=arguments;switch(arguments.length){case 1:return function(){return r(t[0])};case 2:return r(arguments[0],arguments[1]);case 3:return r(arguments[0],arguments[1],arguments[2])}}},c=function(r){var t=function(){var t=arguments;switch(arguments.length){case 1:return function(n,e){return u(r,t[0],n,e)};case 2:return u(r,arguments[0],arguments[1]);case 3:return u(r,arguments[0],arguments[1],arguments[2])}};return t.arr=i(r.arr),t.obj=i(r.obj),t};c.magic=function(r,t){return c({obj:o("obj",r,t),arr:o("arr",r,t)})};var a=c.magic({args:["src","collection"],pre:"//",post:"\nif (src[key] !== collection[key]) return false",nok:!0});return c.eql=a,c.currify=i,n.exports=c,n.exports}),$s_(19,[14],function(r){var t={exports:{}},n=(t.exports,r),e={obj:"Object.create(null)",arr:"Array(max)"},o={obj:"collection[keys[++i]]",arr:"collection[++key]"},u={obj:"++i < max",arr:"++key < max"},i={obj:"key = keys[i]",arr:""},c={obj:["var keys = Object.keys(collection)","var max = keys.length","var i = -1, key\n"].join(";"),arr:["var max = collection.length","var key = -1"].join(";")};return t.exports=function(r,t,a){n.obj(t)?(a=t,a.acc?t="accumulator":t.result&&(t="result")):a||(a={});var s=n.arr(a.args)?a.args:["fn","collection"],f=c[r],l="",p=n.def(a.nok)?a.nok:"collection",d=a.post||"",h=a.pre||"";switch(t){case"accumulator":s.push("acc"),l+="acc, ",f+=";acc || (acc = "+(a.acc||o[r])+")",h||(h="acc = "),p="acc";break;case"result":f+=";var result = "+(a.result||e[r]),h||(h="result[key] = "),p="result";break;default:var y=!!n.def(a.test)&&a.test;if(Boolean(y)){h||(h=y?"if (":"if (!"),d||(d=") return "+(n.def(a.ok)?a.ok:p));break}h||(h="if ("),d||(d="=== "+y+") return "+(n.def(a.ok)?a.ok:p))}return Function(s,[f+";","while ("+u[r]+") {","  "+i[r],"  "+h+"fn("+l+"collection[key], key, collection)"+d,"} return "+p].join("\n"))},t.exports}),$s_(15,[22],function(r){var t={exports:{}},n=(t.exports,r.remove);return t.exports=function(r,t,e){return"function"!=typeof t?e:(r.push(t),function(){return r&&n(r,t)})},t.exports}),$s_(20,[23],function(r){var t={exports:{}},n=(t.exports,r),e=n(function(r,t){var n=t.replace(/\+/g," "),e=n.indexOf("="),o=decodeURIComponent(n.slice(0,e)),u=decodeURIComponent(n.slice(e+1));return void 0===r[o]?r[o]=u:Array.isArray(r[o])?r[o].push(u):r[o]=[r[o],u],r});return t.exports=function(r){return r||(r=(location.hash||location.search||"").split("?")[1]),r&&"string"==typeof r?e(r.split("&"),Object.create(null)):{}},t.exports}),$s_(21,[24],function(r){var t={exports:{}},n=(t.exports,r),e=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=n(/^\.|#/);return t.exports=function(r,t){if(!r)return"div";var n=r.split(e),u=void 0;o(n[1])&&(u="div");var i=void 0,c=void 0,a=void 0,s=void 0;for(s=0;s<n.length;s++)(c=n[s])&&(a=c[0],u?"."===a?(i||(i=[])).push(c.slice(1)):"#"===a&&(t.id||(t.id=c.slice(1))):u=c);return i&&(t.className&&i.push(t.className),t.className=i.join(" ")),t.namespace,u},t.exports}),$s_(22,[],function(){var r={exports:{}},t=(r.exports,function(r,t){void 0===t&&(t=r,r=0);for(var n=t-r,e=Array(n),o=-1;++o<=n;)e[o]=r++;return e});return t.from=function(r){return function(n){return t(r,n)}},r.exports={range:t,remove:function(r,t){if(r){var n=r.indexOf(t);n<0||r.splice(n,1)}},n:function(r){return function(t){return t[r]}},shuffle:function(r){for(var t=r.length,n=void 0,e=void 0;--t>0;)n=Math.floor(Math.random()*(t+1)),e=r[n],r[n]=r[t],r[t]=e;return r},first:function(r){return r[0]},append:function(r,t){return r?(r.push(t),r):[t]},prepend:function(r,t){return r?(r.unshift(t),r):[t]},last:function(r){return r[r.length-1]},unique:function(r){return Array.from(new Set(r))},random:function(r){return r[Math.floor(Math.random()*r.length)]},inRange:function(r,t){return Math.min(Math.max(t,0),r.length-1)}},Object.getOwnPropertyNames(Array.prototype).filter(function(r){return"function"==typeof Array.prototype[r]}).forEach(function(t){var n=Array.prototype[t];r.exports[t]=function(){var r=arguments;return function(t){return n.apply(t,r)}}}),r.exports}),$s_(23,[18,14],function(r,t){var n={exports:{}},e=(n.exports,r),o=t.isFn;return n.exports=e.magic("accumulator"),n.exports.from=function(r,t){return o(t)?function(n){return reduce(r,n,t())}:function(n){return reduce(r,n,t)}},n.exports}),$s_(24,[],function(){var r={exports:{}};r.exports;return r.exports=function(r){return r.test.bind(r)},r.exports}),$_[0];</script>
  </html>